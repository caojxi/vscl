var v=function(){"use strict";function t(t,e,n,i){if("function"==typeof t)this._update=t;else for(var s in t)"update"===s?this._update=t[s]:this[s]=t[s];this.attr=e,this.arg=n,this.key=i;var o=e.value.match(a);o&&(this.filters=o.map(function(t){var e=t.replace("|","").trim().split(/\s+/);return{apply:r[e[0]],args:e.length>1?e.slice(1):null}}))}function e(t){var e=this,n=this.el=document.getElementById(t.id),i=n.querySelectorAll(u);e.bindings={},e.scope={},[].forEach.call(i,this.compileNode.bind(this)),this.compileNode(n);for(var r in e.bindings)e.scope[r]=t.scope[r]}function n(t){return[].map.call(t,function(t){return{name:t.name,value:t.value}})}var i={text:function(t){this.el.textContent=t||""},show:function(t){this.el.style.display=t?"":"none"},class:function(t){this.el.classList[t?"add":"remove"](this.arg)},on:{update:function(t){var e=this.arg;this.handlers||(this.handlers={});var n=this.handlers;n[e]&&this.el.removeEventListener(e,n[e]),t&&(t=t.bind(this.el),this.el.addEventListener(e,t),n[e]=t)},unbind:function(){var t=this.arg;this.handlers&&this.el.removeEventListener(t,this.handlers[t])}},repeat:function(){}},r={capitalize:function(t){return(t=t.toString()).charAt(0).toUpperCase()+t.slice(1)},uppercase:function(t){return t.toUpperCase()},delegate:function(t,e){return function(n){e.every(function(t){return n.target.webkitMatchesSelector(t)})&&t.apply(this,arguments)}},repeat:function(){}},s=/^[^\|]+/,a=/\|[^\|]+/g;t.prototype.applyFilters=function(t){var e=t;return this.filters.forEach(function(t){t.apply&&(e=t.apply(e,t.args))}),e},t.prototype.update=function(t){this.filters&&(t=this.applyFilters(t)),this._update(t)};var o={parse:function(e,n){if(-1===e.name.indexOf(n))return null;var r=e.name.slice(n.length+1),a=r.indexOf("-"),o=-1===a?null:r.slice(a+1),u=o?r.slice(0,a):r,c=i[u],l=e.value.match(s);return c&&l?new t(c,e,o,l[0].trim()):null}},u=Object.keys(i).map(function(t){return"[sd-"+t+"]"}).join();return e.prototype.compileNode=function(t){var e=this;n(t.attributes).forEach(function(n){var i=o.parse(n,"sd");i&&e.bind(t,i)})},e.prototype.dump=function(){var t={};for(var e in this._bindings)t[e]=this._bindings[e];return t},e.prototype.destroy=function(){for(var t in this._bindings)this._bindings[t].directives.forEach(function(t){t.definition.unbind&&t.definition.unbind(t.el,t.argument,t)});this.el.parentNode.removeChild(this.el)},e.prototype.bind=function(t,e){e.el=t,t.removeAttribute(e.attr.name);var n=e.key,i=this.bindings[n]||this.createBinding(n);i.directives.push(e),e.bind&&e.bind(t,i.value)},e.prototype.createBinding=function(t){var e={value:void 0,directives:[]};return this.bindings[t]=e,Object.defineProperty(this.scope,t,{get:function(){return e.value},set:function(t){e.value=t,e.directives.forEach(function(e){e.update(t)})}}),e},{create:function(t){return new e(t)},directive:function(){},filter:function(){}}}();